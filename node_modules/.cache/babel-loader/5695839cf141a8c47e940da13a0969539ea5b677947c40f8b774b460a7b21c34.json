{"ast":null,"code":"var _jsxFileName = \"/Users/drashtipatel/Desktop/projectexpl/frontend/src/pages/ResetPasswordPage.js\",\n  _s = $RefreshSig$();\n// src/pages/ResetPasswordPage.js\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = 'http://localhost:5050/api/auth';\nexport default function ResetPasswordPage() {\n  _s();\n  const {\n    token\n  } = useParams();\n  const navigate = useNavigate();\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [status, setStatus] = useState({\n    type: '',\n    msg: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const submit = async e => {\n    e.preventDefault();\n    setStatus({\n      type: '',\n      msg: ''\n    });\n    if (password.length < 8) {\n      setStatus({\n        type: 'err',\n        msg: 'Password must be at least 8 characters.'\n      });\n      return;\n    }\n    if (password !== confirm) {\n      setStatus({\n        type: 'err',\n        msg: 'Passwords do not match.'\n      });\n      return;\n    }\n    setLoading(true);\n    try {\n      await axios.post(`${API}/reset-password`, {\n        token,\n        password\n      });\n      setStatus({\n        type: 'ok',\n        msg: 'Password updated successfully. Redirecting…'\n      });\n      setTimeout(() => navigate('/'), 1200);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setStatus({\n        type: 'err',\n        msg: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Invalid or expired link.'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: wrap,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Set a New Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      style: form,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"New password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true,\n        style: input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Confirm new password\",\n        value: confirm,\n        onChange: e => setConfirm(e.target.value),\n        required: true,\n        style: input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: btn,\n        disabled: loading,\n        children: loading ? 'Saving…' : 'Update password'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), status.msg && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: status.type === 'ok' ? '#2e7d32' : '#c62828'\n      },\n      children: status.msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      style: {\n        color: '#fff'\n      },\n      children: \"Back to login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(ResetPasswordPage, \"I15UciYeE9ng1MMhnfB5agRdRg0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ResetPasswordPage;\nconst wrap = {\n  padding: 24,\n  maxWidth: 420,\n  margin: '40px auto',\n  color: '#fff'\n};\nconst form = {\n  display: 'flex',\n  gap: 8,\n  flexDirection: 'column'\n};\nconst input = {\n  padding: 12,\n  borderRadius: 8,\n  border: '1px solid #ccc',\n  color: '#000'\n};\nconst btn = {\n  padding: 12,\n  borderRadius: 8,\n  border: 'none',\n  cursor: 'pointer'\n};\nvar _c;\n$RefreshReg$(_c, \"ResetPasswordPage\");","map":{"version":3,"names":["React","useState","axios","useParams","Link","useNavigate","jsxDEV","_jsxDEV","API","ResetPasswordPage","_s","token","navigate","password","setPassword","confirm","setConfirm","status","setStatus","type","msg","loading","setLoading","submit","e","preventDefault","length","post","setTimeout","err","_err$response","_err$response$data","response","data","message","style","wrap","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","form","placeholder","value","onChange","target","required","input","btn","disabled","color","to","_c","padding","maxWidth","margin","display","gap","flexDirection","borderRadius","border","cursor","$RefreshReg$"],"sources":["/Users/drashtipatel/Desktop/projectexpl/frontend/src/pages/ResetPasswordPage.js"],"sourcesContent":["// src/pages/ResetPasswordPage.js\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\n\nconst API = 'http://localhost:5050/api/auth';\n\nexport default function ResetPasswordPage() {\n  const { token } = useParams();\n  const navigate = useNavigate();\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [status, setStatus] = useState({ type: '', msg: '' });\n  const [loading, setLoading] = useState(false);\n\n  const submit = async (e) => {\n    e.preventDefault();\n    setStatus({ type: '', msg: '' });\n\n    if (password.length < 8) {\n      setStatus({ type: 'err', msg: 'Password must be at least 8 characters.' });\n      return;\n    }\n    if (password !== confirm) {\n      setStatus({ type: 'err', msg: 'Passwords do not match.' });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await axios.post(`${API}/reset-password`, { token, password });\n      setStatus({ type: 'ok', msg: 'Password updated successfully. Redirecting…' });\n      setTimeout(() => navigate('/'), 1200);\n    } catch (err) {\n      setStatus({\n        type: 'err',\n        msg: err.response?.data?.message || 'Invalid or expired link.',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={wrap}>\n      <h2>Set a New Password</h2>\n      <form onSubmit={submit} style={form}>\n        <input\n          type=\"password\"\n          placeholder=\"New password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          style={input}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Confirm new password\"\n          value={confirm}\n          onChange={(e) => setConfirm(e.target.value)}\n          required\n          style={input}\n        />\n        <button type=\"submit\" style={btn} disabled={loading}>\n          {loading ? 'Saving…' : 'Update password'}\n        </button>\n      </form>\n      {status.msg && (\n        <p style={{ color: status.type === 'ok' ? '#2e7d32' : '#c62828' }}>{status.msg}</p>\n      )}\n      <Link to=\"/\" style={{ color: '#fff' }}>Back to login</Link>\n    </div>\n  );\n}\n\nconst wrap = { padding: 24, maxWidth: 420, margin: '40px auto', color: '#fff' };\nconst form = { display: 'flex', gap: 8, flexDirection: 'column' };\nconst input = { padding: 12, borderRadius: 8, border: '1px solid #ccc', color: '#000' };\nconst btn = { padding: 12, borderRadius: 8, border: 'none', cursor: 'pointer' };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}